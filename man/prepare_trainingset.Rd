% Generated by roxygen2: do not edit by hand
% Please edit documentation in
%   R/ninetails_training_dataset_production_functions.R
\name{prepare_trainingset}
\alias{prepare_trainingset}
\title{Filters out signals of a given nucleotide type for neural network
training-set preparation.}
\usage{
prepare_trainingset(
  nucleotide,
  nanopolish,
  sequencing_summary,
  workspace,
  num_cores = 1,
  basecall_group = "Basecall_1D_000",
  pass_only = TRUE
)
}
\arguments{
\item{nucleotide}{Character. One of \code{"A"}, \code{"C"}, \code{"G"},
or \code{"U"}. Defines the type of signal filtering applied to
produce training data for the desired nucleotide context.}

\item{nanopolish}{Character string. Full path of the \code{.tsv} file
produced by \code{nanopolish polya}.}

\item{sequencing_summary}{Character string. Full path of the \code{.txt}
file with the sequencing summary.}

\item{workspace}{Character string. Full path of the directory containing
basecalled multi-Fast5 files.}

\item{num_cores}{Numeric \code{[1]}. Number of physical cores to use.
Do not exceed 1 less than the number of cores at your disposal.}

\item{basecall_group}{Character string \code{["Basecall_1D_000"]}. Name of
the level in the Fast5 file hierarchy from which the data should be
extracted.}

\item{pass_only}{Logical \code{[TRUE]}. If \code{TRUE}, only reads tagged
by nanopolish as \code{"PASS"} are retained. Otherwise, reads tagged as
\code{"PASS"} or \code{"SUFFCLIP"} are included.}
}
\value{
A named list of GAF matrices organised by
  \code{<read_ID>_<index>}. Always assign this returned list to a
  variable; printing the full list to the console may crash the R session.
}
\description{
Top-level convenience wrapper that orchestrates the complete
training-set production pipeline for a single nucleotide category.
Depending on the selected \code{nucleotide}, it chains the appropriate
feature extraction, chunk splitting, filtering, and GAF creation
functions into a single call.
}
\details{
The internal pipeline differs by nucleotide:
\describe{
  \item{\code{"A"}}{Uses the A-only branch:
    \code{\link{create_tail_feature_list_A}} \eqn{\rightarrow}
    \code{\link{create_tail_chunk_list_A}} \eqn{\rightarrow}
    \code{\link{create_gaf_list_A}}.}
  \item{\code{"C"}}{Uses the non-A branch with \code{value = -1}
    (valley filtering):
    \code{\link{create_tail_feature_list_trainingset}} \eqn{\rightarrow}
    \code{\link{create_tail_chunk_list_trainingset}} \eqn{\rightarrow}
    \code{\link{filter_nonA_chunks_trainingset}} \eqn{\rightarrow}
    \code{\link{create_gaf_list}}.}
  \item{\code{"G"}}{Uses the non-A branch with \code{value = 1}
    (peak filtering).}
  \item{\code{"U"}}{Uses the non-A branch with \code{value = -1}
    (valley filtering), same filter direction as C.}
}
}
\examples{
\dontrun{

prepare_trainingset(
  nucleotide = "A",
  nanopolish = '/path/to/file',
  sequencing_summary = '/path/to/file',
  workspace = '/path/to/guppy/workspace',
  num_cores = 10,
  basecall_group = 'Basecall_1D_000',
  pass_only = TRUE)

}

}
\seealso{
\code{\link{create_tail_feature_list_trainingset}},
  \code{\link{create_tail_feature_list_A}},
  \code{\link{create_tail_chunk_list_trainingset}},
  \code{\link{create_tail_chunk_list_A}},
  \code{\link{filter_nonA_chunks_trainingset}},
  \code{\link{create_gaf_list}},
  \code{\link{create_gaf_list_A}}.
}
